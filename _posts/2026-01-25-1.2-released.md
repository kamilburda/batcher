---
layout: posts
title: "Batcher 1.2 Released"
author: "Kamil Burda"
category: news
---

<!-- end of summary -->

This release includes quality-of-life improvements, particularly to the user interface, and resolves most issues reported since the previous version.

General changes:
* Added Brazilian Portuguese translation (thanks to @romrocha333).
* Added Korean translation (thanks to @Maguk-Bong).
* Added Polish translation (thanks to @jghosting764).
* Updated Dutch translation (thanks to @DiGro).
* Updated German translation (thanks to @ChrisLauinger77).
* Updated Japanese translation (thanks to @re-unknown).
* Removed filters (layer effects, GEGL operations) that were either redundant or had no effect. **If you used these filters, they will be automatically removed** (a warning message will appear, including a suggestion for an alternative filter if available).
* Batch Convert: Loaded images will now have their orientation automatically corrected based on the Exif metadata if present.
* Layers will now (again) be automatically merged before export to avoid exported images unexpectedly growing beyond their original boundaries. This can happen if layers contain filters (layer effects). You can switch this off by unchecking the new `Merge visible layers and rasterize` export option (#115).
* Changed the order of buttons in the dialog handling conflicting files for safety, with the most dangerous choice (replacing an existing file) now being the rightmost one.
* Adjusted installation instructions for macOS where the GIMP Preferences are located under a different menu.
* If you use the latest revision of Batcher (i.e. download the source code rather than the release package), you will no longer receive errors when updating the plug-in to the latest revision.

New features:
* Batch Convert: You can now adjust file format options when loading input files via the new `Import Options...` entry. Import options for file formats not recognized by Batcher (e.g. third-party file format plug-ins) cannot be adjusted and defaults will be used instead.
* Added support for new features introduced between GIMP 3.1.2 and 3.2-RC2, including new file import/export formats, vector layers and link layers.
* Batch Convert: You can now choose to export images to the same top-level folder as the input image using the new `Match input folders` option. You will be warned when choosing this option as you may permanently override the original images (#75).
* Batch Convert, Export Images, Export Layers: The most recently used output folders for processing are now saved (max. 5). Each Batcher menu keeps a separate list of recent folders (#77).
* Export Layers, Edit Layers: Replaced `Apply opacity from group layers` with a more generic `Apply Group Layer Appearance`, which now also applies layer effects, mode, masks and several other attributes (except color tags and locks) (#87).
* Added an export option named `Rotate or flip image based on Exif metadata`. This allows correcting the orientation of images with Exif metadata before export if you choose to not save Exif metadata, e.g. for the JPEG format (#91).
* Added filters (layer effects, GEGL operations) starting with `gimp:` as custom actions. For GIMP 3.1.4 and later, all of these filters are added. For GIMP 3.1.2 and below, only the following filters are added (others are unsupported or cause GIMP to crash): `gimp:border`, `gimp:colorize`, `gimp:compose-crop`, `gimp:desaturate`, `gimp:flood`, `gimp:grow`, `gimp:posterize`, `gimp:scalar-multiply`, `gimp:semi-flatten`, `gimp:set-alpha`, `gimp:shrink`, `gimp:threshold`, `gimp:threshold-alpha` (#85).
* If [G'MIC](https://gmic.eu/) is installed as a GIMP plug-in, a built-in action `G'MIC Filter` will now be available that simplifies applying a filter from G'MIC non-interactively (#98).
* If an action causes an error during processing or if a file does not exist, you may choose to skip the current image/layer and continue processing subsequent images/layers. This can be enabled permanently via `Settings → Continue on Error`. If you use Batcher non-interactively and you have a previous version of Batcher installed, you must remove Batcher, restart GIMP, install Batcher and restart GIMP again in order for the `continue-on-error` argument to be usable (#21).
* Batch Convert: You can now move around individual files or folders by dragging and dropping them anywhere within the input list, or by pressing Alt + Up/Down. This is useful if, for example, you intend to rename the images with a numbered sequence.
* Batch Convert: Files and folders can now be sorted by several criteria: original name, new name, creation date, modification date and file size. By default, sorting is performed in the ascending order, folders are always placed first and name-based sorting is case-sensitive. All these options can be switched off/on as needed.
* You can now view message logs recorded during processing via `Settings → View Logs` and save them to a file.

User interface changes:
* Export settings are now arranged vertically in the upper left part of the dialog. Clarified labels describing the settings.
* Batch Convert: Buttons for adding and removing files and folders are moved to the top and changed them to icons.
* The `Show Original Names` button shown in Batch Convert is now available for all plug-in procedures among the options at the top of the input list.
* Replaced labels for action and condition parameters and export options with shorter text, just like in filter/plug-in dialogs in GIMP. A label for a parameter now contains the parameter name instead of the (often lengthy) description. The description is now included in the parameter tooltip, if available.
* Adjusted the default size of the main dialog and its individual parts for each plug-in procedure.
* Adjusted widths of action/condition argument names to avoid extra empty vertical space (most notably in the Export Options dialog).
* Reduced the width of the quick dialogs given the vertical rearrangement of the export settings.
* The message area at the bottom now only spans the left part of the dialog to make more room for the preview. Also, the message area no longer takes empty space if no message is displayed.
* Error message dialogs issued by GIMP are now always redirected to the GIMP's error console (https://docs.gimp.org/en/gimp-errors-dialog.html). This avoids spamming the same dialog when attempting to close the dialog and focusing back on the Batcher main dialog (#107).
* Batch Convert: When loading a file fails (e.g. due to an unrecognized file format), the text below the preview now shows the message. You may still obtain warnings issued by GIMP (in the error console).
* Batch Convert: Each row now displays the full path of an input image/folder as a tooltip.
* Improved visual cues when reordering actions, conditions or array argument elements via drag-and-drop.
* A simple summary message indicating the number of successfully processed images/layers is now displayed after the processing.
* Marked names of common layer effect arguments as translatable.
* The Export Options dialog is now closed before the start of processing.
* Replaced the widget for choosing output folder with a custom widget. The folders previously available (such as the home user folder, disk drives, ...) are no longer available.
* Adjusted wording and icon in the dialog handling conflicting files for clarity.
* An info icon is now displayed for skipped actions for clarity (e.g. actions trying to use foreground layers when there are none).
* Changes to the custom action browser:
  * Adjusted the default width of the dialog and its individual parts.
  * Merged the `Menu Name` column into the `Name` column. The browser now only displays the menu name if available, or the internal name otherwise. If the menu name is available, the internal name is displayed for the currently selected action with a smaller font.
  * You can now search by multiple words. At least one matching word will yield a match. Whitespace characters are no longer considered when finding search results.
  * When searching and the first match is under a collapsed category, that category is expanded automatically.
  * Categories with no matching search results are now hidden.
  * Several minor UI tweaks (such as different expander arrow icons to be consistent with the GIMP plug-in browser, or the Add button being insensitive when no action is selected).
  * Optimized search and expanding/collapsing categories.
  * The expanded/collapsed state of each category is now preserved when saving/loading settings.
  * For GIMP 3.1.2 and below, moved the following filters under the Other category as there are alternative filters/plug-ins available in GIMP: `gegl:gray`, `gegl:posterize`, `gegl:threshold`, `gegl:wavelet-blur`.
  * For GIMP 3.1.4 and above, moved the following filters under the Other category as there are alternative filters available in GIMP: `gegl:brightness-contrast`, `gegl:levels`. These are not removed in case they are being used.

Changes to actions and conditions:
* For filters that can only be applied destructively, `Merge filter` will always be checked and cannot be changed (#43).
* Actions and conditions are now organized in submenus and have a fixed position in the submenus for easier navigation.
* Actions and conditions will now display their description (if available) as a tooltip.
* Changed names of built-in actions and conditions to title case for consistency with GIMP tools, plug-ins and filters.
* Color Correction:
  * Split into separate actions and organized under the `Color` menu.
  * Reduced the range of allowed brightness and contrast values. The value range is now scaled to -127 to 127 for consistency with GIMP.
  * For GIMP 3.1.4 and later, you can choose a different filter responsible for adjusting brightness and contrast values. The default filter for GIMP 3.1.4 and later is equivalent to the Brightness-Contrast tool in GIMP. For earlier versions, `gegl:brightness-contrast` is the default (and the only option).
  * GIMP presets for levels or curves in modes other than the linear mode are no longer supported and yield a warning message. This avoids unexpected results as Batcher currently always applies the presets as if they were saved in the linear mode.
  * Added `White Balance` action equivalent to `Colors → Auto → White Balance` in GIMP (#85).
* Rotate and Flip:
  * Split into separate actions - `Flip Horizontally`, `Flip Vertically` and `Rotate`.
  * The default angle for `Rotate` is now 90 degrees. Removed the `None` option.
  * Arguments not applicable are now hidden rather than made insensitive to reduce clutter.
  * Renamed arguments for brevity.
* Save: Replaced `Save existing XCF image to its original location` with a folder chooser. This allows saving existing XCF images and new + non-XCF images to different folders if need be.
* Plug-in procedures added by Batcher (e.g. `plug-in-batch-export-layers`) are not enabled in previews by default to avoid undesired file export or edits of existing images/layers.

Bug fixes:
* Fixed `Layer Below (Background)` and `Layer Above (Foreground)` not working for Batch Convert, Export Images and Edit and Save Images.
* In the custom action browser, fixed freezing frequently followed by a crash while typing a search query, which rendered the search almost unusable.
* Fixed a crash when running Batch Convert non-interactively for AppImage installations (#101).
* Fixed a crash when a widget used for choosing files or folders is not valid (#116).
* Export Layers: Fixed incorrect image filenames when the `[image name]` field was used for non-XCF images (#108).
* Fixed the popup containing action/condition details not appearing upon clicking the corresponding icon button in the custom action browser or the action/condition edit dialog.

[Download at GitHub](https://github.com/kamilburda/batcher/releases/tag/1.2)
